<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="keywords" content="sport, trining, exircises">
  <meta name="author" content="Anton">
  <title>Home page</title>
  <link rel="icon" href="{{ url_for('static', filename='img/icon.png') }}" type="image/x-icon">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
  <link href="https://fonts.googleapis.com/css?family=Bitter|Mansalva|Oswald&display=swap" rel="stylesheet">
  <script type="text/javascript" src="{{ url_for('static', filename='jquery/jq.js') }}"></script>
  <script type="text/javascript">
  var focus_ind_1=0, focus_ind_2=0, focus_ind_3=0;
  var activity_of_action_1=0, activity_of_action_2=0, activity_of_action_3=0;
  function note_action_as_active(val)
  {
    if (val==1) activity_of_action_1=1;
    if (val==2) activity_of_action_2=1;
    if (val==3) activity_of_action_3=1;
  }
  function note_action_as_non_active(val)
  {
    if (val==1) activity_of_action_1=0;
    if (val==2) activity_of_action_2=0;
    if (val==3) activity_of_action_3=0;
  }
  function move_action(val)
  {
    $("#caption"+val).attr("style","padding-left: 2%; position: absolute; margin-top:95%; opacity:0; transition: 0.1s ease;");
    $("#form_action_"+val).attr("style","margin-top: 100%; transition: 0.3s ease; z-index: -1;");
  }
  function move_action_back(val)
  {
    if (val==1 && focus_ind_1==0 && activity_of_action_1==0)
    {
      $("#form_action_"+val).attr("style","margin-top: 0%; position: absolute; z-index:-1; transition: 0.3s ease;");
      $("#caption"+val).attr("style","padding-left: 2%; position:absolute; margin-top:100%; color: #000; opacity:1; transition: 0.4s cubic-bezier(.26, .76, .30, .80);");
    }
    if (val==2 && focus_ind_2==0 && activity_of_action_2==0)
    {
      $("#form_action_"+val).attr("style","margin-top: 0%; transition: 0.3s ease;");
      $("#caption"+val).attr("style","padding-left: 2%; position:absolute; margin-top:100%; color: #000; opacity:1; transition: 0.4s cubic-bezier(.26, .76, .30, .80);");
    }
    if (val==3 && focus_ind_3==0 && activity_of_action_3==0)
    {
      $("#form_action_"+val).attr("style","margin-top: 0%; transition: 0.3s ease;");
      $("#caption"+val).attr("style","padding-left: 2%; position:absolute; margin-top:100%; color: #000; opacity:1; transition: 0.4s cubic-bezier(.26, .76, .30, .80);");
    }

  }
  function focus_on(val)
  {
    if (val==1) focus_ind_1=1;
    if (val==2) focus_ind_2=1;
    if (val==3) focus_ind_3=1;
  }
  function focus_off(val)
  {
    if (val==1) focus_ind_1=0;
    if (val==2) focus_ind_2=0;
    if (val==3) focus_ind_3=0;
  }

  function close_action_on_click()
  {
    if (activity_of_action_1==1)
    {
      $("#sp_for_1").attr("style","display: block; margin-top:100%;");
      $("#sp_caption_1").attr("style","margin-top:0%; padding-left:2%;");
    }
    if (activity_of_action_1==0)
    {
      $("#sp_for_1").attr("style","display: none;");
      $("#sp_caption_1").attr("style","margin-top:100%; padding-left:2%;");
    }

    if (activity_of_action_2==1)
    {
      $("#sp_for_2").attr("style","display: block; margin-top:100%;");
      $("#sp_caption_2").attr("style","margin-top:0%; padding-left:2%;");
    }
    if (activity_of_action_2==0)
    {
      $("#sp_for_2").attr("style","display: none;");
      $("#sp_caption_2").attr("style","margin-top:100%; padding-left:2%;");
    }

  }


  var cursor_on_exercise_menu=0;
  var exercise_list_stage=0;
  var exercise_menu_stage=0;
  function start_ex()
  {
    $(".exercise_menu").attr("style","display:block;")
    exercise_menu_stage=1;
  }
  function cursor_on_exercise_menu_up()
  {
    cursor_on_exercise_menu=1;
  }
  function cursor_on_exercise_menu_down()
  {
    cursor_on_exercise_menu=0;
  }
  function cursor_on_exercise_list_up()
  {
    exercise_list_stage=1;
  }
  function cursor_on_exercise_list_down()
  {
    exercise_list_stage=0;
  }
  function close_exercise_menu_on_click()
  {
    if (cursor_on_exercise_menu==0 && exercise_menu_stage==1) close_exercise_menu();
  }

  function close_exercise_menu()
  {
    $(".exercise_menu").attr("style","display:none;");
    exercise_menu_stage=0;
  }

  var cursor_on_help_menu=0;
  var help_menu_stage=0;
  function start_help()
  {
    $(".help_menu").attr("style","display:block;")
    help_menu_stage=1;
  }
  function cursor_on_help_menu_up()
  {
    cursor_on_help_menu=1;
  }
  function cursor_on_help_menu_down()
  {
    cursor_on_help_menu=0;
  }
  function close_help_menu_on_click()
  {
    if (cursor_on_help_menu==0 && help_menu_stage==1)
    {
      $(".help_menu").attr("style","display:none;");
      help_menu_stage=0;
    }
  }

  var cursor_on_about_menu=0;
  var about_menu_stage=0;
  function start_about()
  {
    $(".about_menu").attr("style","display:block;");
    about_menu_stage=1;
  }
  function cursor_on_about_menu_up()
  {
    cursor_on_about_menu=1;
  }
  function cursor_on_about_menu_down()
  {
    cursor_on_about_menu=0;
  }
  function close_about_menu_on_click()
  {
    if (cursor_on_about_menu==0 && about_menu_stage==1)
    {
      $(".about_menu").attr("style","display:none;");
      about_menu_stage=0;
    }
  }

  var fback=0;
  function light_up_cross()
  {
    fback=1;
  }
  function light_out_cross()
  {
    fback=0;
  }
  function check_and_kick()
  {
    if (exercise_list_stage==0) close_all_exercises_in_exlist();
  }
  function open_feedback_field()
  {
    if (fback==0) $("#feedback_field").attr("style","display:block;");
  }
  function close_feedback_field()
  {
    $("#feedback_field").attr("style","display:none;");
  }


  var date_flag=0;
  function date_go()
  {
    var today = new Date();
    var dd = String(today.getDate()).padStart(2, '0');
    var mm = String(today.getMonth() + 1).padStart(2, '0');
    var yyyy = today.getFullYear();
    today = yyyy + "-" + mm + "-" + dd;
    $d=today;
    if (date_flag==0)
    {
      $("#date").attr("value",$d);
      date_flag=1;
    } else
    {
      date_flag=0;
      $("#date").attr("value","");
    }
  }

  function isValidDate(dateString)
  {
    if(!/^\d{4}\-\d{2}\-\d{2}$/.test(dateString))
    return false;
    var parts = dateString.split("-");
    var day = parseInt(parts[2], 10);
    var month = parseInt(parts[1], 10);
    var year = parseInt(parts[0], 10);
    if(year < 1000 || year > 3000 || month == 0 || month > 12)
    return false;
    var monthLength = [ 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ];
    if(year % 400 == 0 || (year % 100 != 0 && year % 4 == 0))
    monthLength[1] = 29;
    return day > 0 && day <= monthLength[month - 1];
  };

  function open_special_exercise_with_order(val)
  {
    $("#block"+val).attr("style","display:block;");
  }
  function close_all_exercises_in_exlist()
  {
    for (var val=1; val<=7; val++) $("#block"+val).attr("style","display:none;");
  }

  var i=1;
  var j=1;
  var sett=0;
  var cur="";
  var saved_id=1;
  var inp_id=1;
  var arr_exe=new Array();
  var arr_wei=new Array();
  var arr_exi=new Array();
  function clean_weight_field()
  {
    document.getElementById('weight').value="";
  }
  function del(val)
  {
    $("#saved"+val).attr("style","display:none;");
    $("#inpex"+val).attr("value","");
    $("#inpwe"+val).attr("value","");
    arr_exi[val]=0;
  }
  function fix_exercise_to_save()
  {
    var s="<div onclick='del(" + saved_id + ")' id='saved" + saved_id + "' style='height:auto;'>" + document.getElementById('exercise' + sett).innerHTML + "<pre>   </pre>" + document.getElementById('weight').value + "</div>";
    arr_exe[saved_id]=document.getElementById('exname_' + sett).innerHTML;
    arr_wei[saved_id]=document.getElementById('weight').value;
    $("#inpex"+inp_id).attr("value",arr_exe[inp_id]);
    $("#inpwe"+inp_id).attr("value",arr_wei[inp_id]);
    inp_id++;
    saved_id++;
    document.getElementById('fixing_field').innerHTML+=s;
    document.getElementById('all_exercises_during_training').value+=arr_exe[saved_id-1] + ":" + arr_wei[saved_id-1] + " "
  }
  function fix_selected_exercise(val)
  {
    sett=val;
    if (cur=="")
    {
      cur="<input id='ept' type='button' style='color: #fff; width: auto; position: absolute; background-color: #303030;border-color: #000;top: 46%; right: 40%;' value='" + document.getElementById('exname_' + sett).innerHTML + "'>";
      document.getElementById('external_exercise_block').innerHTML+=cur;
    }
    else
    $("#ept").attr("value",document.getElementById('exname_' + sett).innerHTML);
  }
  </script>
</head>



<body onclick="close_action_on_click(), close_exercise_menu_on_click(), close_help_menu_on_click(), close_about_menu_on_click(), check_and_kick()">
  <div class="about_menu">
    <div style="position: fixed; height: 100%; width: 100%; margin: 0px; background-color: #000; opacity: 0.5; z-index: 99;"></div>
    <div onmouseover="cursor_on_about_menu_up()" onmouseout="cursor_on_about_menu_down()" style="position: fixed; height: 30%; width: 40%; margin-left: 30%; margin-right: 30%; margin-top: 15%; background-color: #000; opacity: 0.9; z-index: 100; border: 1px solid #642844; border-radius: 10px;">
      <div class="internal_block_for_dark_background" style="height: 90%;">
        <div>
          <span>
            We are happy!(
          </span>
        </div>
      </div>
    </div>
  </div>



  <div class="help_menu">
    <div style="position: fixed; height: 100%; width: 100%; margin: 0px; background-color: #000; opacity: 0.5; z-index: 99;"></div>
    <div onmouseover="cursor_on_help_menu_up()" onmouseout="cursor_on_help_menu_down()" style="position: fixed; height: 30%; width: 40%; margin-left: 30%; margin-right: 30%; margin-top: 15%; background-color: #000; opacity: 0.9; z-index: 100; border: 1px solid #642844; border-radius: 10px;">
      <div class="internal_block_for_dark_background" style="height: 90%;">
        <div>
          <span>
            Enjoy using=)
          </span>
        </div>
      </div>
    </div>
  </div>



  <div class="exercise_menu">
    <div style="position: fixed; height: 100%; width: 100%; margin: 0px; background-color: #000; opacity: 0.5; z-index: 99;"></div>
    <div id="external_exercise_block" onmouseover="cursor_on_exercise_menu_up()" onmouseout="cursor_on_exercise_menu_down()" style="position: fixed; height: 80%; width: 40%; margin-left: 30%; margin-right: 30%; margin-top: 5%; background-color: #000; opacity: 0.9; z-index: 100; border: 1px solid #642844; border-radius: 10px;">
      <center><span style="color: #fff; font-size: 3vh;">Exercises</span></center>
      <div class="internal_block_for_dark_background" onmouseover="cursor_on_exercise_list_up()" onmouseout="cursor_on_exercise_list_down()">
        {% for muscule_type in ex_list %}
        <script type="text/javascript">
        document.write("<div onclick='close_all_exercises_in_exlist(),open_special_exercise_with_order(" + i + ")'><span>{{ muscule_type }}</span></div>")
        document.write("<block id='block" + i + "' style='display: none; position: absolute;'>")
        i++
        </script>
          {% for exercise in ex_list[muscule_type] %}
          <script type="text/javascript">
          document.write("<div onclick='fix_selected_exercise(" + j + ")' id='exercise" + j +"' style='padding:1.5%; padding-left: 40%;'>")
          document.write("<span id='exname_" + j + "'>{{ exercise }}</span></div>")
          j++;
          </script>
          {% endfor %}
        </block>
        {% endfor %}
      </div>
      <input onfocus="clean_weight_field()" id="weight" type="number" name="" placeholder="Weight">
      <input onclick="fix_exercise_to_save()" type="button" name="" value="+Add">
      <input onclick="close_exercise_menu()" type="button" name="" value="Close" style="top: 93%;">
      <input type="button" name="" value="Click exercise for deleting" id="exercise_del_button">
      <hr style=" top: 52.5%; left: 5%; position: absolute; color: #f0f0f0; width: 90%; border-width: 0.5px;">
      <div class="internal_block_for_dark_background" id="fixing_field" style="position: absolute; top: 55%; height: 38%; background-color: #303030; opacity: 0.2; width: 90%; left: 5%; border-radius: 5px; color: #fff; overflow-y: scroll;">
      </div>
    </div>
  </div>



  <div class="whole_visible_part">
      <header>
        <img class="shelper_title_icon" src="{{ url_for('static', filename='img/shelper_title_icon.png') }}">
        <a class="shelper_link" href="main.html">
          SHelper
        </a>
        <a onclick="open_feedback_field()" style="cursor: pointer;">
          Feedback
          <div id="feedback_field" style="display: none;">
            <div style="padding: 3%; position: absolute; height: 130%; width: 15%; background-color: #000; opacity: 0.6; top: 105%; z-index: 100000; border-radius: 5px;">
              <form method="POST" action="main.php">
                <textarea name="comment"></textarea>
                <img  onmouseover="light_up_cross()" onmouseout="light_out_cross()" onclick="close_feedback_field()" src="{{ url_for('static', filename='img/cross.png') }}" id="cross">
                <input  type="submit" value="Send" name="send_back" style="cursor: pointer; position: absolute; top: 79%; font-size: 1vw; right: 1%; background-color: #000; color: #f0f0f0; border-width: 1px;"></form>
            </div>
          </div>
        </a>
        <a class="regist_link" href="auth.php">
          Regist
        </a>
        <a href="index.php" class="exit_link">
          Exit
        </a>
      </header><br>


      <div class="main_menu">
        <center>
          <span>Sections</span>
          <hr>
          <div class="sections">
            <a href=""><span style="color:#000;">Actions</span></a>
            <a href="look.php"><span>Look</span></a>
            <a onclick="start_about(),close_feedback_field()" onmouseover="cursor_on_about_menu_up()" onmouseout="cursor_on_about_menu_down()"><span  style="white-space: nowrap; cursor: pointer; ">About us</span></a>
            <a onclick="start_help(),close_feedback_field()" onmouseover="cursor_on_help_menu_up()" onmouseout="cursor_on_help_menu_down()"><span style="cursor: pointer; ">Help</span></a>
          </div>
        </center>
      </div><br>


      <div class="actions_block">
        <div class="actions" onmouseover="move_action(1),note_action_as_active(1)" onmouseout="note_action_as_non_active(1),move_action_back(1)">
          <img style="width: 100%; position: absolute; z-index: 100;" src="{{ url_for('static', filename='img/first_action_image.png') }}">
          <p id="caption1" style="padding-left: 2%; position: absolute; margin-top: 100%; transition: 0.1s ease;">New Training</p>
          <form  id="form_action_1" style="position: absolute; z-index: -1;" action="main.php" method="POST">
            {{ form_train.comment(autocomplete="off", style="width: 50%;", value="", type="text", id="write_down_comment",  onfocus="focus_on(1)", onblur="focus_off(1),move_action_back(1)")}}
            {{ form_train.comment.label }}<br>
            {{ form_train.date(autocomplete="off", style="width: 50%;", value="", type="", id="date", onfocus="focus_on(1)", placeholder="yyyy-mm-dd", onblur="focus_off(1),move_action_back(1)")}}
            {{ form_train.date.label }}<br>
            {{ form_train.weight(autocomplete="off", style="width: 50%;", type="number", min="0", id="write_down_weight", onfocus="focus_on(1)", onblur="focus_off(1),move_action_back(1)")}}
            {{ form_train.weight.label }}<br>
            <img onclick="close_feedback_field(),start_ex()" onmouseover="cursor_on_exercise_menu_up()" onmouseout="cursor_on_exercise_menu_down()" src="{{ url_for('static', filename='img/plus.png') }}" style="width: 10%; margin-top: 2%; margin-left: 2%; transition: 0.1s ease;" class="easy_anim">
            {{ form_train.training_list(id="all_exercises_during_training", value="") }}
            {{ form_train.submit(onclick="stop_time()", type="submit", value="Save", style="float:right;") }}
            <!-- <input autocomplete="off" style="width: 50%;" value="" type="text" name="write_down_comment" id="write_down_comment"  onfocus="focus_on(1)" onblur="focus_off(1),move_action_back(1)"><span>Write down comment</span><br>
            <input autocomplete="off" style="width: 50%;" value="" type="" id="date" name="write_down_date" onfocus="focus_on(1)" value="" placeholder="yyyy-mm-dd" onblur="focus_off(1),move_action_back(1)"><input onclick="date_go()" type="checkbox"><span style=""> Date</span><br>
            <input autocomplete="off" style="width: 50%;" value="" type="number" min="0" name="write_down_weight" id="write_down_weight" onfocus="focus_on(1)" onblur="focus_off(1),move_action_back(1)"><span style="">Weight</span><br>
            <img onclick="close_feedback_field(),start_ex()" onmouseover="cursor_on_exercise_menu_up()" onmouseout="cursor_on_exercise_menu_down()" src="{{ url_for('static', filename='img/plus.png') }}" style="width: 10%; margin-top: 2%; margin-left: 2%; transition: 0.1s ease;" class="easy_anim">
            <input onclick="stop_time()" type="submit" value="Save" name="write_down_all" style="float:right;">
            <input type="hidden" id="all_exercises_during_training" value=""> -->
          </form>
        </div>

        <div class="actions" onmouseover="move_action(2),note_action_as_active(2)" onmouseout="note_action_as_non_active(2),move_action_back(2)">
          <img style="width: 100%; position: absolute; z-index: 100;" src="{{ url_for('static', filename='img/second_action_image.png') }}">
          <p id="caption2" style="padding-left: 2%; position: absolute; margin-top: 100%; transition: 0.1s ease;">New Exercise <span style="color: red;"><?=$mistake?></span></p>
          <form  method="POST" id="form_action_2" style="position: absolute; z-index: -1;">
            {{ form_ex.csrf_token }}
            {{ form_ex.name.label }}<br>
            {{ form_ex.name(autocomplete='off', value='', style='width: 50%;', onfocus='focus_on(2)', onblur='focus_off(2),move_action_back(2)') }}<br>
            {{ form_ex.category.label }}<br>
            {{ form_ex.category(style="padding: 4px; margin: 5px; font-size: 1vw; border-radius: 5px; outline: 0; transition: 0.15s ease;width: 30%; background-color: #fff; size: '3';") }}<br>
            {{ form_ex.submit() }}
          </form>
        </div>

        <div class="actions" onmouseover="move_action(3),note_action_as_active(3)" onmouseout="note_action_as_non_active(3),move_action_back(3)">
          <a href="lol.html"><img style="width: 100%; position: absolute; z-index: 100;" src="{{ url_for('static', filename='img/third_action_image.png') }}"></a>
          <p style="padding-left: 2%; margin-top: 100%;">Stopwatch</p>
        </div>
      </div>
    </div>



    <footer>
      <span class="footer_left" style="margin-top: 0.6%; margin-left:0.4%;">
        Almost all rights reserved &copy 2020
      </span>
      <div  style="height: 100%;" class="soc_networks">
        <a href=""><img src="{{ url_for('static', filename='img/facebook.png') }}" class="footer_right" style="margin:0.3%; height: 80%; margin-right: 1%;"></a>
        <a href=""><img src="{{ url_for('static', filename='img/telegram.png') }}" class="footer_right"  style="margin:0.3%; height: 80%;"></a>
        <a href=""><img src="{{ url_for('static', filename='img/instagram.png') }}" class="footer_right"  style="margin:0.3%; height: 80%;"></a>
        <a href=""><img src="{{ url_for('static', filename='img/vkontakte.png') }}" class="footer_right"  style="margin:0.3%; height: 80%;"></a>
        <span class="special">
          Social networks
        </span>
      </div>
    </footer>
  </body>
  </html>
